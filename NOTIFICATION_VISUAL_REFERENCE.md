# Notification System - Visual Reference

## Navbar - Bell Icon States

### 1. No Unread Notifications
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ‘¥ EMS   Employees  Attendance  ROTA  Documents  Leaves     â”‚
â”‚                                         ðŸ””  John Doe  Admin  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. With Unread Notifications (Animated)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ‘¥ EMS   Employees  Attendance  ROTA  Documents  Leaves     â”‚
â”‚                                       ðŸ””[3]  John Doe  Admin â”‚
â”‚                                       â†‘ red badge            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Notification Dropdown - Expanded View

### When Bell is Clicked:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ‘¥ EMS   Employees  Attendance  ROTA  Documents  Leaves     â”‚
â”‚                                       ðŸ””[3]  John Doe  Admin â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Notifications          [Mark all as read]        â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ â”ƒ ðŸ–ï¸  New Leave Request                      Ã— â”‚
        â”‚ â”ƒ     Jane Smith has requested Annual Leave     â”‚
        â”‚ â”ƒ     from 2025-11-10 to 2025-11-12             â”‚
        â”‚ â”ƒ     5m ago                                     â”‚
        â”‚ â”ƒ                                                 â”‚ â† Blue bar = unread
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ â”ƒ ðŸ–ï¸  New Leave Request                      Ã— â”‚
        â”‚ â”ƒ     Bob Johnson has requested Sick Leave      â”‚
        â”‚ â”ƒ     from 2025-11-08 to 2025-11-09             â”‚
        â”‚ â”ƒ     2h ago                                     â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚   âœ…  Leave Approved                          Ã— â”‚
        â”‚       Your Annual Leave has been approved        â”‚
        â”‚       by Sarah Manager                           â”‚
        â”‚       1d ago                                     â”‚ â† No bar = read
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚              View all notifications              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Empty State - No Notifications
```
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Notifications                                    â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚                                                  â”‚
        â”‚                    ðŸ”•                            â”‚
        â”‚                                                  â”‚
        â”‚             No notifications yet                 â”‚
        â”‚                                                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Notification Types & Icons

### 1. Leave Request (Sent to Admins)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ–ï¸  New Leave Request                      Ã— â”‚
â”‚     [Employee Name] has requested              â”‚
â”‚     [Leave Type] from [Start] to [End]         â”‚
â”‚     [Time ago]                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Leave Approved (Sent to Employee)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ…  Leave Request Approved                  Ã— â”‚
â”‚     Your [Leave Type] from [Start] to [End]    â”‚
â”‚     has been approved by [Approver Name]       â”‚
â”‚     [Time ago]                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Leave Rejected (Sent to Employee)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âŒ  Leave Request Rejected                  Ã— â”‚
â”‚     Your [Leave Type] from [Start] to [End]    â”‚
â”‚     has been rejected by [Rejector]. Reason:   â”‚
â”‚     [Rejection reason]                         â”‚
â”‚     [Time ago]                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Color Scheme

### Unread Notification:
- Background: Light blue (#f0f7ff)
- Left border: Blue bar (4px, #4a90e2)
- Text: Dark (#1a1a1a)

### Read Notification:
- Background: White
- No left border
- Text: Gray (#666)

### Hover State:
- Background: Light gray (#f8f9fa)
- Cursor: Pointer

## Responsive Design

### Desktop (>768px):
```
Navbar: Full width with all elements
Dropdown: 380px wide, positioned below bell
          max-height: 500px, scrollable
```

### Mobile (â‰¤768px):
```
Navbar: Hamburger menu
Dropdown: Full width (with 8px margins)
          Fixed position at top
          max-height: calc(100vh - 80px)
```

## Animation Effects

### Bell Icon:
- **No notifications:** Static
- **Has notifications:** Gentle ring animation (rotates Â±10deg)

### Badge:
- Red background (#ff4444)
- White text, bold
- Shows "99+" if count > 99

### Dropdown:
- Smooth slide-down transition
- Backdrop overlay (transparent, closes on click)

## User Interactions

### Clicking Bell:
1. Opens dropdown
2. Loads recent notifications
3. Shows current unread count

### Clicking Notification:
1. If unread â†’ marks as read (API call)
2. Removes blue highlight
3. Decreases badge count
4. Navigates to related page (e.g., /leaves)
5. Closes dropdown

### Clicking "Mark all as read":
1. API call to mark all as read
2. Removes all blue highlights
3. Badge count â†’ 0
4. Keeps dropdown open

### Clicking Delete (Ã—):
1. API call to delete notification
2. Removes from list
3. Decreases count if was unread
4. No navigation

### Clicking Backdrop:
1. Closes dropdown
2. No other action

## Time Display Format

```
< 1 minute:    "Just now"
1-59 minutes:  "5m ago", "23m ago"
1-23 hours:    "2h ago", "15h ago"
1-6 days:      "3d ago", "5d ago"
7+ days:       "11/5/2025" (local date format)
```

## Component Structure

```
app-notification-dropdown
â”œâ”€â”€ notification-container
â”‚   â”œâ”€â”€ notification-bell (button)
â”‚   â”‚   â”œâ”€â”€ bell-icon ðŸ””
â”‚   â”‚   â””â”€â”€ notification-badge [count]
â”‚   â”‚
â”‚   â”œâ”€â”€ notification-dropdown (panel)
â”‚   â”‚   â”œâ”€â”€ dropdown-header
â”‚   â”‚   â”‚   â”œâ”€â”€ h3 "Notifications"
â”‚   â”‚   â”‚   â””â”€â”€ mark-all-read button
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ notification-list (scrollable)
â”‚   â”‚   â”‚   â”œâ”€â”€ notification-item (*ngFor)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ notification-icon
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ notification-content
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ notification-title
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ notification-message
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ notification-time
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ delete-notification button
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ empty-state (if no notifications)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ dropdown-footer
â”‚   â”‚       â””â”€â”€ view-all link
â”‚   â”‚
â”‚   â””â”€â”€ notification-backdrop (overlay)
```

## Who Sees What?

### ROOT User:
- âŒ No bell icon (manages orgs, not leaves)

### USER (Employee):
- âŒ No bell icon for leave requests
- âœ… Bell shows when their leave is approved/rejected

### ADMIN (Department Manager):
- âœ… Bell icon visible
- âœ… Sees leave requests from users in their department
- âœ… Sees leave requests from other admins (if SUPER_ADMIN)

### SUPER_ADMIN (CEO/Owner):
- âœ… Bell icon visible
- âœ… Sees ALL leave requests in the organization
- âœ… Sees requests from both users and admins

## Integration Points

### Frontend â†’ Backend:
- Polling every 30 seconds: `GET /api/notifications/unread/count`
- On bell click: `GET /api/notifications/recent`
- On notification click: `PUT /api/notifications/{id}/read`
- On mark all: `PUT /api/notifications/read-all`
- On delete: `DELETE /api/notifications/{id}`

### Backend Triggers:
- Leave requested â†’ `createLeaveRequestNotification()`
- Leave approved â†’ `createLeaveApprovalNotification()`
- Leave rejected â†’ `createLeaveRejectionNotification()`

## Summary

The notification system provides a **professional, intuitive, and responsive** way for admins to be notified of leave requests and for employees to be notified of leave decisions. The bell icon is prominently displayed in the navbar, with clear visual indicators for unread notifications, and a feature-rich dropdown for managing notifications.

